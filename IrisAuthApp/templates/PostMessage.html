{% load static %}
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>A Novel Graphical Password Authentication Scheme with Improved Usability</title>
<meta name="keywords" content="" />
<meta name="Premium Series" content="" />
<link href="{% static 'default.css' %}" rel="stylesheet" type="text/css" media="screen" />
<script language="javascript">
	function validate(formObj)
	{
	if(formObj.t1.value.length==0)
	{
	alert("Please Enter username");
	formObj.t1.focus();
	return false;
	}
	if(formObj.t2.value.length==0)
	{
	alert("Please Enter password");
	formObj.t2.focus();
	return false;
	}
	if(formObj.t3.value.length==0)
	{
	alert("Please upload iris image");
	formObj.t3.focus();
	return false;
	}
	if(formObj.t4.value.length==0)
	{
	alert("Please enter watermark message");
	formObj.t4.focus();
	return false;
	}
	formObj.actionUpdateData.value="update";
	return true;
	}
	</script>
</head>
<body>
<!-- start header -->
<div id="header">
	<div id="logo">
		<h1><span><center>A Novel Graphical Password Authentication Scheme with Improved Usability

</center></span></h1>
		
	</div>
	<div id="menu">
		<ul id="main">
		<li><a href="{% url 'PostMessage' %}"><font size="3" color="white">Post Message</a></li><td></td>
		<li><a href="{% url 'ViewMessage' %}"><font size="3" color="white">View Message</a></li><td></td>
		<li><a href="{% url 'index' %}"><font size="3" color="white">Logout</a></li><td></td>
			<td></td>
			
     
		</ul>
		
	</div>
	
</div>

<div id="wrapper">
	<!-- start page -->
	<div id="page">
		<div id="page">
			<form name="frm" method="post" action="PostMessageAction" onsubmit="return validate(this);">
				<!-- start content -->
				<div id="content">
					<div class="flower">
						<center><img src="{% static 'images/tra.jpg' %}" alt="" width="660" height="100"/></center>
					</div>
					<br/><br/>
					<div class="flower">
						<center><h1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Post Message Screen<h1></center>
					</div>
					<br/>
					{% csrf_token %}
					<center><font size="3" color="red">{{ data|safe }}</font></center>
					<table align="right">
						<tr>
							<td><font size="3" color="black">Select&nbsp;Receiver</font></td>
							<td>
								<input list="receiver-list" id="receiver" name="t1" size="50" oninput="filterReceivers()">
								<datalist id="receiver-list"></datalist>
							</td>
						</tr>
						<tr>
							<td><font size="3" color="black">Message</font></td>
							<td><input type="text" name="t2" size="50"/></td>
						</tr>
						<tr>
							<td></td>
							<td><input type="submit" value="Submit"></td>
						</tr>
					</table>
				</div>
			</form>
	
		<script>
			// Parse the JSON object from the Django context
			const receivers = JSON.parse('{{ receivers|escapejs }}');
	
			// Function to populate the datalist with receiver names
			function populateReceiverList() {
				const receiverList = document.getElementById('receiver-list');
				receivers.forEach(receiver => {
					const option = document.createElement('option');
					option.value = receiver;
					receiverList.appendChild(option);
				});
			}
	
			// Function to filter receiver names based on user input
			function filterReceivers() {
				const input = document.getElementById('receiver').value.toLowerCase();
				const receiverList = document.getElementById('receiver-list');
				receiverList.innerHTML = ''; // Clear previous options
	
				receivers
					.filter(receiver => receiver.toLowerCase().includes(input))
					.forEach(filteredReceiver => {
						const option = document.createElement('option');
						option.value = filteredReceiver;
						receiverList.appendChild(option);
					});
			}
	
			// Populate the datalist when the page loads
			document.addEventListener('DOMContentLoaded', populateReceiverList);
		</script>
			</table>
			</center><br /><div class="post">
				
				<div class="entry">
					
				</div>
			</div>
		</div>
		<!-- end content -->
		<!-- start sidebars -->
		
		<!-- end sidebars -->
		<div style="clear: both;">&nbsp;</div>
	</div>
	<!-- end page -->
</div>
</body>
</html>







